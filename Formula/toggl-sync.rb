# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class TogglSync < Formula
  desc "Toggl sync util"
  homepage "https://github.com/timemate"
  version "0.2.2"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/timemate/toggl-sync/releases/download/v0.2.2/toggl-sync-0.2.2-darwin-amd64.tar.gz"
      sha256 "fe0e261d8b32b3b8b80fa4de97a712fd2f216c368dab7a9ac3d0e090540854fa"

      def install
        bin.install "toggl-sync"
        output = Utils.popen_read("#{bin}/toggl-sync completion bash")
        (bash_completion/"toggl-sync").write output
        output = Utils.popen_read("#{bin}/toggl-sync completion zsh")
        (zsh_completion/"_toggl-sync").write output
        output = Utils.popen_read("#{bin}/toggl-sync completion fish")
        (fish_completion/"toggl-sync.fish").write output
        prefix.install_metafiles
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/timemate/toggl-sync/releases/download/v0.2.2/toggl-sync-0.2.2-darwin-arm64.tar.gz"
      sha256 "788e8463b27b3010af4d6495465cb07441527fdceccfa93bd941fb2f03fd299c"

      def install
        bin.install "toggl-sync"
        output = Utils.popen_read("#{bin}/toggl-sync completion bash")
        (bash_completion/"toggl-sync").write output
        output = Utils.popen_read("#{bin}/toggl-sync completion zsh")
        (zsh_completion/"_toggl-sync").write output
        output = Utils.popen_read("#{bin}/toggl-sync completion fish")
        (fish_completion/"toggl-sync.fish").write output
        prefix.install_metafiles
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/timemate/toggl-sync/releases/download/v0.2.2/toggl-sync-0.2.2-linux-armv6.tar.gz"
      sha256 "9885b5da82909fff84a44a3560d44a32c499cac2c77596035bc021abe39f28ba"

      def install
        bin.install "toggl-sync"
        output = Utils.popen_read("#{bin}/toggl-sync completion bash")
        (bash_completion/"toggl-sync").write output
        output = Utils.popen_read("#{bin}/toggl-sync completion zsh")
        (zsh_completion/"_toggl-sync").write output
        output = Utils.popen_read("#{bin}/toggl-sync completion fish")
        (fish_completion/"toggl-sync.fish").write output
        prefix.install_metafiles
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/timemate/toggl-sync/releases/download/v0.2.2/toggl-sync-0.2.2-linux-amd64.tar.gz"
      sha256 "b239b860b279b198e224e98e762d0f57f856e45c7d409fee0acc4bb7bbbd12ec"

      def install
        bin.install "toggl-sync"
        output = Utils.popen_read("#{bin}/toggl-sync completion bash")
        (bash_completion/"toggl-sync").write output
        output = Utils.popen_read("#{bin}/toggl-sync completion zsh")
        (zsh_completion/"_toggl-sync").write output
        output = Utils.popen_read("#{bin}/toggl-sync completion fish")
        (fish_completion/"toggl-sync.fish").write output
        prefix.install_metafiles
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/timemate/toggl-sync/releases/download/v0.2.2/toggl-sync-0.2.2-linux-arm64.tar.gz"
      sha256 "1e96dc14308ed9c650d9ced95a78725c1d4493f06aed53b4bd08b4d600e8fd2e"

      def install
        bin.install "toggl-sync"
        output = Utils.popen_read("#{bin}/toggl-sync completion bash")
        (bash_completion/"toggl-sync").write output
        output = Utils.popen_read("#{bin}/toggl-sync completion zsh")
        (zsh_completion/"_toggl-sync").write output
        output = Utils.popen_read("#{bin}/toggl-sync completion fish")
        (fish_completion/"toggl-sync.fish").write output
        prefix.install_metafiles
      end
    end
  end

  test do
    system "#{bin}/toggl-sync --version"
  end
end
